{% extends 'layouts/master.html' %}
{% block content %}
{% load static %}
<div>
    <section class="page-section" >
        <div class="container">
            <!-- Contact Section Heading-->
            <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Doolittle</h2>
            <br>
            <br>
                    <p>
                        This method is part of the LU methods for matrix factorization, where a matrix A is factored into L (Upper Triangular) and U (Lower Triangular).
                        Given Ax = b, we would have LUx = b and if Ux = z, then Lz = b. In this specific method, The diagonal of L and U are equal L [i] [i] = 1. 
                        After we have the factorized matrix, progressive substitution is made with the L matrix and the results b to find the values of z, then backward substitution is used to find the values of x, which would be the solution of the system . 
                    </p>
                        <div class="grid-container">
                                    <div class="grid-child purple">
                                        <br>
                                        <h6>Enter matrix size</h6>
                                        <section id="plot">
                                            <form action= "{% url 'doolittle.index' %}", method="post">
                                                {% csrf_token %}
                                                {{ form}}
                                                <!-- <input type=number id="sizeMatriz"  value=2 step=1 min=2> -->
                                                <br>
                                                <br>
                                                <button class="btn btn-primary btn-xl" id="sendMessageButton" type="submit" name="rows_matrix">Enter Rows</button></div>
                                                
                                            </form>

                                        </section>
                                                                                
                        
                        <div class="matrix">
                            <form action= "{% url 'doolittle.index' %}", method="post" class="ab">
                                {% csrf_token %}

                                <div class="a">
                                    <h5>A</h5>
                                    {% with ''|center:size as range %}
                                    {% for i in range %}
                                        {% for j in range %}
                                             <!-- <input id = i,j type=number> -->
                                             {{element}}
                                        {% endfor %}
                                        <br>
                                    {% endfor %}
                                    {% endwith %}
                                
                                    </div>

                                    <div class="a"> 

                                    <h5>b</h5>
                                    {% with ''|center:size as range %}
                                        {% for i in range %}
                                             <!-- <input id = i,j type=number> -->
                                             {{element}}
                                            <br>
                                        {% endfor %}
                                    {% endwith %}
                                    
                                    </div>

                                <button class="btn btn-primary btn-xl" id="sendMessageButton" type="submit" name='method' >Enter Rows</button>
                            </form>

                            {% if message%}
                               <p style="text-align: center;">{{ message }} </p>
                            {% endif %}


                            {% if matrixs %}
                                <h5 style="text-align: center;">Doolittle Method </h5>
                                <div class="container">
                                
                                {%for matrix in matrixs%}
                                 <p> vueltita {{forloop.counter}}</p>
                                    <div class = "row justify-content-center mb-3 array_div " width= "200px" style ="border: 1px solid black;">
                                     {% for row in matrix %}
                                        
                                       
                                        
                                        {% comment %} {% for element in row %}
                                          <input type="text" value = {{element}} disabled>
                                        {%endfor %} {% endcomment %}
                                        {{row}}
                                        <br>
                                     
                                    {%endfor %}
                                    </div>
                                {%endfor%}
                                </div>
                            {% endif %}

                            <!-- {% if stages %}
                                {%for i in stages%}
                                    <p class="stage" style='text-align: center; font-weight: bold;'>Stage {{ i }} </p>
                                    <p> matrix {{matrixs.i}}</p>
                                         {{ matrixs.i|slugify }} 
                                    <br>
                                {%endfor%}
                            {% endif %} -->
                               
                        
                                {% comment %} <script src="https://d3js.org/d3.v3.min.js"></script>
                                <script src="https://mauriciopoppe.github.io/function-plot/js/function-plot.js"></script>
                                <script src="{% static 'assets/js/graph.js' %}"></script> {% endcomment %}
                         
                            
                        <div id="success"></div>
                        <!-- <button onclick="plot()">Click Here</button> -->
                        
            </div>
        </div>
  </div>
  </div>
  {% endblock content %}    
