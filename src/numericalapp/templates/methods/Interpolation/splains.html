{% extends 'layouts/master.html' %} {% block content %}

<style>
  #x_input {
    width: 30px;
    border: 0px;
  }
  #y_input {
    width: 30px;
    border: 0px;
  }
  tr,td {
    border: 2px solid black;
  }
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
</style>

<script>
  function appendInput(){
    let x_row = document.querySelector('#x_row');
    let y_row = document.querySelector('#y_row');
    x_row.innerHTML = ''
    y_row.innerHTML = ''

    let th_x = document.createElement("th_x")
    th_x.scope = "row"
    th_x.innerText = "X"
    x_row.appendChild(th_x)
    let th_y = document.createElement("th_y")
    th_y.scope = "row"
    th_y.innerText = "Y"
    y_row.appendChild(th_y)


    let inputValue = document.getElementById("variables").value;
    if(inputValue < 2) {
      alert("Number of variables must be greater than 1")
    }else {
      for(let i = 0; i < inputValue; i++) {
        let x_input = document.createElement("input")
        let y_input = document.createElement("input")
        let td_x = document.createElement("td")
        td_x.appendChild(x_input) 
        x_input.type = "number"
        x_input.id = "x_input"
        x_input.name = "x"
        x_row.appendChild(td_x)
        let td_y = document.createElement("td")
        td_y.appendChild(y_input) 
        y_input.type = "number"
        y_input.id = "y_input"
        y_input.name = "y"
        y_row.appendChild(td_y)
      }
    }
  }
</script>

<section class="page-section">
  <div class="container text-center">
    <label for="variables">Variables:</label>
    <input type='number' id="variables" onchange="appendInput()" min="2"></input>
    <br/>
    <br/>
      <form method="post" class="text-center justify-content-center" action="./">
      {% csrf_token %}
        <table align="center">
          <tr id="x_row">
            <th scope="row">X</th>
              <td><input name="x" type="number", id="x_input"></input></td>
              <td><input name="x" type="number", id="x_input"></input></td>
          </tr>
          <tr id="y_row">
            <th scope="row">Y</th>
              <td><input name="y" type="number", id="y_input"></input></td>
              <td><input name="y" type="number", id="y_input"></input></td>
          </tr>
        </table>
        <br/>
        <button type="btn submit">sub</button>
      </form> 

    {% comment %} <div class="text-center">
    <label for="variables">Variables:</label>
    <input type='number' id="variables"></input>
      <form method="post" class="text-center justify-content-center">
        <table class="text-center">
          <tr id="x_row">
            <th scope="row">X</th>
            {% for i in range %}
            <td>{{form.x}}</td>
            {% endfor %}
          </tr>
          <tr id="y_row">
            <th scope="row">Y</th>
            {% for i in range %}
            <td>{{form.y}}</td>
            {% endfor %}
          </tr>
        </table>
      </form>
    </div> {% endcomment %}


    {% for i in coefficients %}
    {% endfor %}
    
    {% for i in tracers %}
      {{ i }}
      <br/>
    {% endfor %}
    

  </div>
</section>
{% endblock content %}
